<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: TrafficTable.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: TrafficTable.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/* eslint-disable react/no-array-index-key */
import React, { useEffect } from 'react';
import './table.css';
import { IoMdArrowDropdown } from 'react-icons/io';
import Tabs from '@mui/material/Tabs';
import { getTrafficTableJoinedThisWeek, getTrafficTableJoinedThisYear } from '../../services/requests/Traffic';

import { TrafficTab } from './TrafficStates.style';

/**
 * @description This component is resposinble to
 * render the Traffic Table in the Traffic States Component
 */

function TrafficTable({ list }) { // did not write param in
  // documentation as it should not take in the future
  const [value, setValue] = React.useState('Day Of Week');
  const [trafficTableJoinedMembers, setTrafficTableJoinedMembers] = React.useState([]);

  useEffect(() => {
    const fetchData = async () => {
      // undefined behavior ??????????

      const results = await getTrafficTableJoinedThisWeek();
      setTrafficTableJoinedMembers(results);
      console.log(trafficTableJoinedMembers);
    };
    fetchData();
  }, []);

  useEffect(() => {
    const fetchData = async () => {
      // undefined behavior ??????????

      if (value === 'Day Of Week') {
        console.log(value);
        const results = await getTrafficTableJoinedThisWeek();
        setTrafficTableJoinedMembers(results);
      } else if (value === 'Month') {
        console.log(value);
        const results = await getTrafficTableJoinedThisYear();
        setTrafficTableJoinedMembers(results);
      }
      console.log(trafficTableJoinedMembers);
    };
    fetchData();
    console.log(trafficTableJoinedMembers);
  }, [value]);

  const handleChange = (event, newValue) => {
    setValue(newValue);
  };

  const handleClick = () => {
    const temp = trafficTableJoinedMembers;
    temp.reverse();
    setTrafficTableJoinedMembers(temp);
    // let temp= list ;
    list.reverse();
    console.log('chaaaaaaaaaaaaaaa');
    // setTrafficTableJoinedMembers(temp);
  };

  return (
    &lt;div
      style={{ width: '100%', backgroundColor: '#ffffff', borderRadius: '5px' }}
    >
      &lt;Tabs
        value={value}
        onChange={handleChange}
        textColor="primary"
        indicatorColor="primary"
        aria-label="primary tabs example"
        sx={{ marginBottom: '1.2rem' }}
      >
        &lt;TrafficTab
          value="Day Of Week"
          label="Day Of Week"
        />
        &lt;TrafficTab
          value="Month"
          label="Month"
        />
      &lt;/Tabs>
      &lt;table>
        &lt;thead>
          &lt;tr>
            &lt;th
              onClick={handleClick}
              style={{ cursor: 'pointer' }}
              className="col1"
            >
              &lt;div style={{ display: 'flex', justifyContent: 'space-between' }}>
                {value}
                &lt;IoMdArrowDropdown size={18} />
              &lt;/div>
            &lt;/th>
            &lt;th>MEMBERS JOINED&lt;/th>
          &lt;/tr>
        &lt;/thead>
        &lt;tbody>
          {list.map(
            (
              item,
              index // data is empty however there is response
            ) => (
              &lt;tr key={index}>
                &lt;td className="col1">{item.time}&lt;/td>
                &lt;td>{item.members}&lt;/td>
              &lt;/tr>
            )
          )}
        &lt;/tbody>
      &lt;/table>
    &lt;/div>
  );
}

export default (TrafficTable);
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#ChartCard">ChartCard</a></li><li><a href="global.html#ChartDiv">ChartDiv</a></li><li><a href="global.html#TrafficChart">TrafficChart</a></li><li><a href="global.html#TrafficStates">TrafficStates</a></li><li><a href="global.html#TrafficTab">TrafficTab</a></li><li><a href="global.html#TrafficTable">TrafficTable</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.11</a> on Wed Dec 07 2022 11:30:16 GMT+0200 (Eastern European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
